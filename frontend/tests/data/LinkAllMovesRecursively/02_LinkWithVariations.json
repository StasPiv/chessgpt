{
  "name": "link with variations",
  "input": [
    {
      "san": "e4",
      "globalIndex": 0
    },
    {
      "san": "e5",
      "globalIndex": 1,
      "variations": [
        [
          {
            "san": "c5",
            "globalIndex": 1000
          }
        ]
      ]
    }
  ],
  "expected": [
    {
      "san": "e4",
      "globalIndex": 0,
      "next": {
        "san": "e5",
        "globalIndex": 1
      }
    },
    {
      "san": "e5",
      "globalIndex": 1,
      "previous": {
        "san": "e4",
        "globalIndex": 0
      },
      "variations": [
        [
          {
            "san": "c5",
            "globalIndex": 1000,
            "previous": {
              "san": "e4",
              "globalIndex": 0
            }
          }
        ]
      ]
    }
  ]
}