{
  "name": "nested deletion with parent line continuation",
  "input": {
    "currentMove": {
      "san": "Nc3",
      "globalIndex": 2000
    },
    "history": [
      {
        "san": "e4",
        "globalIndex": 0
      },
      {
        "san": "c5",
        "globalIndex": 1,
        "variations": [
          [
            {
              "san": "e5",
              "globalIndex": 1000
            },
            {
              "san": "Nf3",
              "globalIndex": 1001,
              "variations": [
                [
                  {
                    "san": "Nc3",
                    "globalIndex": 2000
                  }
                ]
              ]
            },
            {
              "san": "Bb5",
              "globalIndex": 1002
            }
          ]
        ]
      },
      {
        "san": "Nf3",
        "globalIndex": 2
      }
    ]
  },
  "expected": {
    "newCurrentMove": {
      "globalIndex": 1001,
      "san": "Nf3"
    },
    "updatedHistory": [
      {
        "globalIndex": 0,
        "san": "e4"
      },
      {
        "globalIndex": 1,
        "san": "c5",
        "variations": [
          [
            {
              "globalIndex": 1000,
              "san": "e5"
            },
            {
              "globalIndex": 1001,
              "san": "Nf3"
            },
            {
              "globalIndex": 1002,
              "san": "Bb5"
            }
          ]
        ]
      },
      {
        "globalIndex": 2,
        "san": "Nf3"
      }
    ]
  }
}